CREATE DATABASE url_shortener 
WITH ENCODING = 'UTF8'
CONNECTION LIMIT = 300;

CREATE TABLE IF NOT EXISTS public.url_records (
	long_url TEXT NOT NULL,
	short_id VARCHAR(128) PRIMARY KEY,
	create_time TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE IF NOT EXISTS public.logs (
	method VARCHAR(64),
    uri VARCHAR(2048),
    ip_address VARCHAR(46),
    status SMALLINT,
    body TEXT,
	create_time TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);